(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5310],{75708:function(t,e,i){var n;"undefined"!=typeof self&&self,t.exports=(n=i(67294),function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,i){"use strict";function n(){return n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},n.apply(this,arguments)}function s(t){return l(t)||r(t)||a(t)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(t,e){if(t){if("string"==typeof t)return c(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?c(t,e):void 0}}function r(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function l(t){if(Array.isArray(t))return c(t)}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0});var p=i(1),u=i.n(p),d="undefined"!=typeof window?p.useLayoutEffect:p.useEffect,f=Object(p.forwardRef)((function(t,e){var i=Object(p.useRef)(),o=Object(p.useRef)();return d((function(){function e(){var e=t.highcharts||"object"===("undefined"==typeof window?"undefined":h(window))&&window.Highcharts,n=t.constructorType||"chart";e?e[n]?t.options?o.current=e[n](i.current,t.options,t.callback?t.callback:void 0):console.warn('The "options" property was not passed.'):console.warn('The "constructorType" property is incorrect or some required module is not imported.'):console.warn('The "highcharts" property was not passed.')}if(o.current){if(!1!==t.allowChartUpdate)if(!t.immutable&&o.current){var n;(n=o.current).update.apply(n,[t.options].concat(s(t.updateArgs||[!0,!0])))}else e()}else e()})),d((function(){return function(){o.current&&(o.current.destroy(),o.current=null)}}),[]),Object(p.useImperativeHandle)(e,(function(){return{get chart(){return o.current},container:i}}),[]),u.a.createElement("div",n({},t.containerProps,{ref:i}))}));e.default=Object(p.memo)(f)},function(t,e){t.exports=n}]))},75111:function(t,e,i){"use strict";var n,s,o;o=function(t){function e(t,e,i,n){t.hasOwnProperty(e)||(t[e]=n.apply(null,i),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t=t?t._modules:{},"Extensions/Annotations/AnnotationChart.js",[t["Core/Utilities.js"]],(function(t){function e(t,e){return t=this.initAnnotation(t),this.options.annotations.push(t.options),p(e,!0)&&(t.redraw(),t.graphic.attr({opacity:1})),t}function i(){const t=this;t.plotBoxClip=this.renderer.clipRect(this.plotBox),t.controlPointsGroup=t.renderer.g("control-points").attr({zIndex:99}).clip(t.plotBoxClip).add(),t.options.annotations.forEach(((e,i)=>{if(!t.annotations.some((t=>t.options===e))){const n=t.initAnnotation(e);t.options.annotations[i]=n.options}})),t.drawAnnotations(),r(t,"redraw",t.drawAnnotations),r(t,"destroy",(function(){t.plotBoxClip.destroy(),t.controlPointsGroup.destroy()})),r(t,"exportData",(function(e){const i=(this.options.exporting&&this.options.exporting.csv||{}).columnHeaderFormatter,n=!e.dataRows[1].xValues,s=t.options.lang&&t.options.lang.exportData&&t.options.lang.exportData.annotationHeader,o=function(t){let e;return i&&(e=i(t),!1!==e)?e:(e=s+" "+t,n?{columnTitle:e,topLevelColumnTitle:e}:e)},a=e.dataRows[0].length,r=t.options.exporting&&t.options.exporting.csv&&t.options.exporting.csv.annotations&&t.options.exporting.csv.annotations.itemDelimiter,l=t.options.exporting&&t.options.exporting.csv&&t.options.exporting.csv.annotations&&t.options.exporting.csv.annotations.join;t.annotations.forEach((t=>{t.options.labelOptions&&t.options.labelOptions.includeInDataExport&&t.labels.forEach((t=>{if(t.options.text){const i=t.options.text;t.points.forEach((t=>{const n=t.x,s=t.series.xAxis?t.series.xAxis.index:-1;let o=!1;if(-1===s){t=e.dataRows[0].length;for(var c=Array(t),h=0;h<t;++h)c[h]="";c.push(i),c.xValues=[],c.xValues[s]=n,e.dataRows.push(c),o=!0}if(o||e.dataRows.forEach((t=>{!o&&t.xValues&&void 0!==s&&n===t.xValues[s]&&(l&&t.length>a?t[t.length-1]+=r+i:t.push(i),o=!0)})),!o){for(t=e.dataRows[0].length,c=Array(t),h=0;h<t;++h)c[h]="";c[0]=n,c.push(i),c.xValues=[],void 0!==s&&(c.xValues[s]=n),e.dataRows.push(c)}}))}}))}));let c=0;e.dataRows.forEach((t=>{c=Math.max(c,t.length)}));const h=c-e.dataRows[0].length;for(let t=0;t<h;t++){const i=o(t+1);n?(e.dataRows[0].push(i.topLevelColumnTitle),e.dataRows[1].push(i.columnTitle)):e.dataRows[0].push(i)}}))}function n(){this.plotBoxClip.attr(this.plotBox),this.annotations.forEach((t=>{t.redraw(),t.graphic.animate({opacity:1},t.animationConfig)}))}function s(t){const e=this.annotations,i="annotations"===t.coll?t:c(e,(function(e){return e.options.id===t}));i&&(h(i,"remove"),l(this.options.annotations,i.options),l(e,i),i.destroy())}function o(){this.annotations=[],this.options.annotations||(this.options.annotations=[])}function a(t){this.chart.hasDraggedAnnotation||t.apply(this,Array.prototype.slice.call(arguments,1))}const{addEvent:r,erase:l,find:c,fireEvent:h,pick:p,wrap:u}=t,d=[];var f;return function(l){l.compose=function(l,c,h){t.pushUnique(d,c)&&(r(c,"afterInit",o),(c=c.prototype).addAnnotation=e,c.callbacks.push(i),c.collectionsWithInit.annotations=[e],c.collectionsWithUpdate.push("annotations"),c.drawAnnotations=n,c.removeAnnotation=s,c.initAnnotation=function(t){return t=new(l.types[t.type]||l)(this,t),this.annotations.push(t),t}),t.pushUnique(d,h)&&u(h.prototype,"onContainerMouseDown",a)}}(f||(f={})),f})),e(t,"Extensions/Annotations/AnnotationDefaults.js",[t["Core/Utilities.js"]],(function(t){const{defined:e}=t;return{visible:!0,animation:{},crop:!0,draggable:"xy",labelOptions:{align:"center",allowOverlap:!1,backgroundColor:"rgba(0, 0, 0, 0.75)",borderColor:"#000000",borderRadius:3,borderWidth:1,className:"highcharts-no-tooltip",crop:!1,formatter:function(){return e(this.y)?""+this.y:"Annotation label"},includeInDataExport:!0,overflow:"justify",padding:5,shadow:!1,shape:"callout",style:{fontSize:"0.7em",fontWeight:"normal",color:"contrast"},useHTML:!1,verticalAlign:"bottom",x:0,y:-16},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1,fill:"rgba(0, 0, 0, 0.75)",r:0,snap:2},controlPointOptions:{events:{},style:{cursor:"pointer",fill:"#ffffff",stroke:"#000000","stroke-width":2},height:10,symbol:"circle",visible:!1,width:10},events:{},zIndex:6}})),e(t,"Extensions/Annotations/EventEmitter.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,e){const{doc:i,isTouchDevice:n}=t,{addEvent:s,fireEvent:o,objectEach:a,pick:r,removeEvent:l}=e;return class{addEvents(){const t=this,e=function(e){s(e,n?"touchstart":"mousedown",(e=>{t.onMouseDown(e)}),{passive:!1})};if(e(this.graphic.element),(t.labels||[]).forEach((t=>{t.options.useHTML&&t.graphic.text&&e(t.graphic.text.element)})),a(t.options.events,((e,i)=>{const n=function(n){"click"===i&&t.cancelClick||e.call(t,t.chart.pointer.normalize(n),t.target)};-1===(t.nonDOMEvents||[]).indexOf(i)?t.graphic.on(i,n):s(t,i,n,{passive:!1})})),t.options.draggable&&(s(t,"drag",t.onDrag),!t.graphic.renderer.styledMode)){const e={cursor:{x:"ew-resize",y:"ns-resize",xy:"move"}[t.options.draggable]};t.graphic.css(e),(t.labels||[]).forEach((t=>{t.options.useHTML&&t.graphic.text&&t.graphic.text.css(e)}))}t.isUpdating||o(t,"add")}destroy(){this.removeDocEvents(),l(this),this.hcEvents=null}mouseMoveToRadians(t,e,i){let n=t.prevChartY-i,s=t.prevChartX-e;return i=t.chartY-i,t=t.chartX-e,this.chart.inverted&&(e=s,s=n,n=e,e=t,t=i,i=e),Math.atan2(i,t)-Math.atan2(n,s)}mouseMoveToScale(t,e,i){return e=(t.chartX-e||1)/(t.prevChartX-e||1),t=(t.chartY-i||1)/(t.prevChartY-i||1),this.chart.inverted&&(i=t,t=e,e=i),{x:e,y:t}}mouseMoveToTranslation(t){let e,i=t.chartX-t.prevChartX;return t=t.chartY-t.prevChartY,this.chart.inverted&&(e=t,t=i,i=e),{x:i,y:t}}onDrag(t){if(this.chart.isInsidePlot(t.chartX-this.chart.plotLeft,t.chartY-this.chart.plotTop,{visiblePlotOnly:!0})){const e=this.mouseMoveToTranslation(t);"x"===this.options.draggable&&(e.y=0),"y"===this.options.draggable&&(e.x=0),this.points.length?this.translate(e.x,e.y):(this.shapes.forEach((t=>t.translate(e.x,e.y))),this.labels.forEach((t=>t.translate(e.x,e.y)))),this.redraw(!1)}}onMouseDown(t){if(t.preventDefault&&t.preventDefault(),2!==t.button){var e=this,a=e.chart.pointer,l=(t=a.normalize(t)).chartX,c=t.chartY;e.cancelClick=!1,e.chart.hasDraggedAnnotation=!0,e.removeDrag=s(i,n?"touchmove":"mousemove",(function(t){e.hasDragged=!0,(t=a.normalize(t)).prevChartX=l,t.prevChartY=c,o(e,"drag",t),l=t.chartX,c=t.chartY}),n?{passive:!1}:void 0),e.removeMouseUp=s(i,n?"touchend":"mouseup",(function(t){const i=r(e.target&&e.target.annotation,e.target);i&&(i.cancelClick=e.hasDragged),e.cancelClick=e.hasDragged,e.hasDragged=!1,e.chart.hasDraggedAnnotation=!1,o(r(i,e),"afterUpdate"),e.onMouseUp(t)}),n?{passive:!1}:void 0)}}onMouseUp(t){var e=this.chart;t=this.target||this;const i=e.options.annotations;e=e.annotations.indexOf(t),this.removeDocEvents(),i[e]=t.options}removeDocEvents(){this.removeDrag&&(this.removeDrag=this.removeDrag()),this.removeMouseUp&&(this.removeMouseUp=this.removeMouseUp())}}})),e(t,"Extensions/Annotations/ControlPoint.js",[t["Extensions/Annotations/EventEmitter.js"],t["Core/Utilities.js"]],(function(t,e){const{merge:i,pick:n}=e;return class extends t{constructor(t,e,i,s){super(),this.graphic=void 0,this.nonDOMEvents=["drag"],this.chart=t,this.target=e,this.options=i,this.index=n(i.index,s)}destroy(){super.destroy(),this.graphic&&(this.graphic=this.graphic.destroy()),this.options=this.target=this.chart=null}redraw(t){this.graphic[t?"animate":"attr"](this.options.positioner.call(this,this.target))}render(){const t=this.chart,e=this.options;this.graphic=t.renderer.symbol(e.symbol,0,0,e.width,e.height).add(t.controlPointsGroup).css(e.style),this.setVisibility(e.visible),this.addEvents()}setVisibility(t){this.graphic[t?"show":"hide"](),this.options.visible=t}update(t){const e=this.chart,n=this.target,s=this.index;t=i(!0,this.options,t),this.destroy(),this.constructor(e,n,t,s),this.render(e.controlPointsGroup),this.redraw()}}})),e(t,"Extensions/Annotations/MockPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e){const{series:{prototype:i}}=t,{defined:n,fireEvent:s}=e;class o{static fromPoint(t){return new o(t.series.chart,null,{x:t.x,y:t.y,xAxis:t.series.xAxis,yAxis:t.series.yAxis})}static pointToPixels(t,e){const i=t.series,n=i.chart;let s=t.plotX||0,o=t.plotY||0;return n.inverted&&(t.mock?(s=t.plotY,o=t.plotX):(s=n.plotWidth-(t.plotY||0),o=n.plotHeight-(t.plotX||0))),i&&!e&&(s+=(t=i.getPlotBox()).translateX,o+=t.translateY),{x:s,y:o}}static pointToOptions(t){return{x:t.x,y:t.y,xAxis:t.series.xAxis,yAxis:t.series.yAxis}}constructor(t,e,n){this.plotY=this.plotX=void 0,this.mock=!0,this.series={visible:!0,chart:t,getPlotBox:i.getPlotBox},this.target=e||null,this.options=n,this.applyOptions(this.getOptions())}applyOptions(t){this.command=t.command,this.setAxis(t,"x"),this.setAxis(t,"y"),this.refresh()}getLabelConfig(){return{x:this.x,y:this.y,point:this}}getOptions(){return this.hasDynamicOptions()?this.options(this.target):this.options}hasDynamicOptions(){return"function"===typeof this.options}isInsidePlot(){const t=this.plotX,e=this.plotY,i=this.series.xAxis,o=this.series.yAxis,a={x:t,y:e,isInsidePlot:!0,options:{}};return i&&(a.isInsidePlot=n(t)&&0<=t&&t<=i.len),o&&(a.isInsidePlot=a.isInsidePlot&&n(e)&&0<=e&&e<=o.len),s(this.series.chart,"afterIsInsidePlot",a),a.isInsidePlot}refresh(){var t=this.series;const e=t.xAxis;t=t.yAxis;const i=this.getOptions();e?(this.x=i.x,this.plotX=e.toPixels(i.x,!0)):(this.x=void 0,this.plotX=i.x),t?(this.y=i.y,this.plotY=t.toPixels(i.y,!0)):(this.y=null,this.plotY=i.y),this.isInside=this.isInsidePlot()}refreshOptions(){var t=this.series;const e=t.xAxis;t=t.yAxis,this.x=this.options.x=e?this.options.x=e.toValue(this.plotX,!0):this.plotX,this.y=this.options.y=t?t.toValue(this.plotY,!0):this.plotY}rotate(t,e,i){if(!this.hasDynamicOptions()){const n=Math.cos(i);i=Math.sin(i);const s=this.plotX-t,o=this.plotY-e,a=s*i+o*n;this.plotX=s*n-o*i+t,this.plotY=a+e,this.refreshOptions()}}scale(t,e,i,n){if(!this.hasDynamicOptions()){const s=this.plotY*n;this.plotX=(1-i)*t+this.plotX*i,this.plotY=(1-n)*e+s,this.refreshOptions()}}setAxis(t,e){t=t[e+="Axis"];const i=this.series.chart;this.series[e]="object"===typeof t?t:n(t)?i[e][t]||i.get(t):null}toAnchor(){const t=[this.plotX,this.plotY,0,0];return this.series.chart.inverted&&(t[0]=this.plotY,t[1]=this.plotX),t}translate(t,e,i,n){this.hasDynamicOptions()||(this.plotX+=i,this.plotY+=n,this.refreshOptions())}}return o})),e(t,"Extensions/Annotations/ControlTarget.js",[t["Extensions/Annotations/ControlPoint.js"],t["Extensions/Annotations/MockPoint.js"],t["Core/Utilities.js"]],(function(t,e,i){var n;return function(n){function s(){const e=this.controlPoints,n=this.options.controlPoints||[];n.forEach(((s,o)=>{(s=i.merge(this.options.controlPointOptions,s)).index||(s.index=o),n[o]=s,e.push(new t(this.chart,this,s))}))}function o(t){const e=t.series.getPlotBox(),n=t.series.chart;var s=t.mock?t.toAnchor():n.tooltip&&n.tooltip.getAnchor.call({chart:t.series.chart},t)||[0,0,0,0];return{relativePosition:s={x:s[0]+(this.options.x||0),y:s[1]+(this.options.y||0),height:s[2]||0,width:s[3]||0},absolutePosition:i.merge(s,{x:s.x+(t.mock?e.translateX:n.plotLeft),y:s.y+(t.mock?e.translateY:n.plotTop)})}}function a(){this.controlPoints.forEach((t=>t.destroy())),this.options=this.points=this.controlPoints=this.chart=null,this.annotation&&(this.annotation=null)}function r(){const t=this.options;return t.points||t.point&&i.splat(t.point)}function l(){const t=this.getPointsOptions(),e=this.points,i=t&&t.length||0;let n,s;for(n=0;n<i;n++){if(s=this.point(t[n],e[n]),!s)return void(e.length=0);s.mock&&s.refresh(),e[n]=s}return e}function c(t,n){return t&&t.series?t:(n&&null!==n.series||(i.isObject(t)?n=new e(this.chart,this,t):i.isString(t)?n=this.chart.get(t)||null:"function"===typeof t&&(n=(n=t.call(n,this)).series?n:new e(this.chart,this,t))),n)}function h(t){this.controlPoints.forEach((e=>e.redraw(t)))}function p(){this.controlPoints.forEach((t=>t.render()))}function u(t,e,i,n,s){if(this.chart.inverted){const t=e;e=i,i=t}this.points.forEach(((o,a)=>this.transformPoint(t,e,i,n,s,a)),this)}function d(t,i,n,s,o,a){let r=this.points[a];r.mock||(r=this.points[a]=e.fromPoint(r)),r[t](i,n,s,o)}function f(t,e){this.transform("translate",null,null,t,e)}function g(t,e,i){this.transformPoint("translate",null,null,t,e,i)}const v=[];n.compose=function(t){i.pushUnique(v,t)&&i.merge(!0,t.prototype,{addControlPoints:s,anchor:o,destroyControlTarget:a,getPointsOptions:r,linkPoints:l,point:c,redrawControlPoints:h,renderControlPoints:p,transform:u,transformPoint:d,translate:f,translatePoint:g})}}(n||(n={})),n})),e(t,"Extensions/Annotations/Controllables/Controllable.js",[t["Extensions/Annotations/ControlTarget.js"],t["Core/Utilities.js"]],(function(t,e){const{merge:i}=e;class n{constructor(t,e,i,n){this.graphic=void 0,this.annotation=t,this.chart=t.chart,this.collection="label"===n?"labels":"shapes",this.controlPoints=[],this.options=e,this.points=[],this.index=i,this.itemType=n,this.init(t,e,i)}attr(...t){this.graphic.attr.apply(this.graphic,arguments)}attrsFromOptions(t){const e=this.constructor.attrsMap,i={},n=this.chart.styledMode;let s,o;for(s in t)o=e[s],"undefined"===typeof e[s]||n&&-1!==["fill","stroke","stroke-width"].indexOf(o)||(i[o]=t[s]);return i}destroy(){this.graphic&&(this.graphic=this.graphic.destroy()),this.tracker&&(this.tracker=this.tracker.destroy()),this.destroyControlTarget()}init(t,e,i){this.annotation=t,this.chart=t.chart,this.options=e,this.points=[],this.controlPoints=[],this.index=i,this.linkPoints(),this.addControlPoints()}redraw(t){this.redrawControlPoints(t)}render(t){this.renderControlPoints()}rotate(t,e,i){this.transform("rotate",t,e,i)}scale(t,e,i,n){this.transform("scale",t,e,i,n)}setControlPointsVisibility(t){this.controlPoints.forEach((e=>{e.setVisibility(t)}))}shouldBeDrawn(){return!!this.points.length}translateShape(t,e,i){var n=this.annotation.chart;const s=this.annotation.userOptions,o=n.annotations.indexOf(this.annotation);n=n.options.annotations[o],this.translatePoint(t,e,0),i&&this.translatePoint(t,e,1),n[this.collection][this.index].point=this.options.point,s[this.collection][this.index].point=this.options.point}update(t){var e=this.annotation;const n=i(!0,this.options,t);t=this.graphic.parentGroup;const s=this.constructor;this.destroy(),e=new s(e,n,this.index,this.itemType),i(!0,this,e),this.render(t),this.redraw()}}return t.compose(n),n})),e(t,"Extensions/Annotations/Controllables/ControllableDefaults.js",[],(function(){return{defaultMarkers:{arrow:{tagName:"marker",attributes:{id:"arrow",refY:5,refX:9,markerWidth:10,markerHeight:10},children:[{tagName:"path",attributes:{d:"M 0 0 L 10 5 L 0 10 Z","stroke-width":0}}]},"reverse-arrow":{tagName:"marker",attributes:{id:"reverse-arrow",refY:5,refX:1,markerWidth:10,markerHeight:10},children:[{tagName:"path",attributes:{d:"M 0 5 L 10 0 L 10 10 Z","stroke-width":0}}]}}}})),e(t,"Extensions/Annotations/Controllables/ControllablePath.js",[t["Extensions/Annotations/Controllables/Controllable.js"],t["Extensions/Annotations/Controllables/ControllableDefaults.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,e,i,n){function s(t){return function(e){this.attr(t,"url(#"+e+")")}}function o(){this.options.defs=p(r,this.options.defs||{})}function a(t,e){const i={attributes:{id:t}},n={stroke:e.color||"none",fill:e.color||"rgba(0, 0, 0, 0.75)"};return i.children=e.children&&e.children.map((function(t){return p(n,t)})),e=p(!0,{attributes:{markerWidth:20,markerHeight:20,refX:0,refY:0,orient:"auto"}},e,i),(e=this.definition(e)).id=t,e}const{defaultMarkers:r}=e,{addEvent:l,defined:c,extend:h,merge:p,uniqueKey:u}=n,d=[],f=s("marker-end"),g=s("marker-start"),v="rgba(192,192,192,"+(i.svg?1e-4:.002)+")";class b extends t{static compose(t,e){n.pushUnique(d,t)&&l(t,"afterGetContainer",o),n.pushUnique(d,e)&&(e.prototype.addMarker=a)}constructor(t,e,i){super(t,e,i,"shape"),this.type="path"}toD(){var t=this.options.d;if(t)return"function"===typeof t?t.call(this):t;const e=(t=this.points).length,i=[];var n=e;let s=t[0],o=n&&this.anchor(s).absolutePosition,a=0;if(o)for(i.push(["M",o.x,o.y]);++a<e&&n;)s=t[a],n=s.command||"L",o=this.anchor(s).absolutePosition,"M"===n||"L"===n?i.push([n,o.x,o.y]):"Z"===n&&i.push([n]),n=s.series.visible;return n&&this.graphic?this.chart.renderer.crispLine(i,this.graphic.strokeWidth()):null}shouldBeDrawn(){return super.shouldBeDrawn()||!!this.options.d}render(t){const e=this.options,i=this.attrsFromOptions(e);this.graphic=this.annotation.chart.renderer.path([["M",0,0]]).attr(i).add(t),e.className&&this.graphic.addClass(e.className),this.tracker=this.annotation.chart.renderer.path([["M",0,0]]).addClass("highcharts-tracker-line").attr({zIndex:2}).add(t),this.annotation.chart.styledMode||this.tracker.attr({"stroke-linejoin":"round",stroke:v,fill:v,"stroke-width":this.graphic.strokeWidth()+2*e.snap}),super.render(),h(this.graphic,{markerStartSetter:g,markerEndSetter:f}),this.setMarkers(this)}redraw(t){if(this.graphic){const e=this.toD(),i=t?"animate":"attr";e?(this.graphic[i]({d:e}),this.tracker[i]({d:e})):(this.graphic.attr({d:"M 0 -9000000000"}),this.tracker.attr({d:"M 0 -9000000000"})),this.graphic.placed=this.tracker.placed=!!e}super.redraw(t)}setMarkers(t){const e=t.options,i=t.chart,n=i.options.defs,s=e.fill,o=c(s)&&"none"!==s?s:e.stroke;["markerStart","markerEnd"].forEach((function(s){var a=e[s];let r,l,c;if(a){for(c in n)if(r=n[c],(a===(r.attributes&&r.attributes.id)||a===r.id)&&"marker"===r.tagName){l=r;break}l&&(a=t[s]=i.renderer.addMarker((e.id||u())+"-"+a,p(l,{color:o})),t.attr(s,a.getAttribute("id")))}}))}}return b.attrsMap={dashStyle:"dashstyle",strokeWidth:"stroke-width",stroke:"stroke",fill:"fill",zIndex:"zIndex"},b})),e(t,"Extensions/Annotations/Controllables/ControllableRect.js",[t["Extensions/Annotations/Controllables/Controllable.js"],t["Extensions/Annotations/Controllables/ControllablePath.js"],t["Core/Utilities.js"]],(function(t,e,i){({merge:i}=i);class n extends t{constructor(t,e,i){super(t,e,i,"shape"),this.type="rect",this.translate=super.translateShape}render(t){const e=this.attrsFromOptions(this.options);this.graphic=this.annotation.chart.renderer.rect(0,-9e9,0,0).attr(e).add(t),super.render()}redraw(t){if(this.graphic){const e=this.anchor(this.points[0]).absolutePosition;e?this.graphic[t?"animate":"attr"]({x:e.x,y:e.y,width:this.options.width,height:this.options.height}):this.attr({x:0,y:-9e9}),this.graphic.placed=!!e}super.redraw(t)}}return n.attrsMap=i(e.attrsMap,{width:"width",height:"height"}),n})),e(t,"Extensions/Annotations/Controllables/ControllableCircle.js",[t["Extensions/Annotations/Controllables/Controllable.js"],t["Extensions/Annotations/Controllables/ControllablePath.js"],t["Core/Utilities.js"]],(function(t,e,i){({merge:i}=i);class n extends t{constructor(t,e,i){super(t,e,i,"shape"),this.type="circle",this.translate=super.translateShape}redraw(t){if(this.graphic){const e=this.anchor(this.points[0]).absolutePosition;e?this.graphic[t?"animate":"attr"]({x:e.x,y:e.y,r:this.options.r}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=!!e}super.redraw.call(this,t)}render(t){const e=this.attrsFromOptions(this.options);this.graphic=this.annotation.chart.renderer.circle(0,-9e9,0).attr(e).add(t),super.render()}setRadius(t){this.options.r=t}}return n.attrsMap=i(e.attrsMap,{r:"r"}),n})),e(t,"Extensions/Annotations/Controllables/ControllableEllipse.js",[t["Extensions/Annotations/Controllables/Controllable.js"],t["Extensions/Annotations/Controllables/ControllablePath.js"],t["Core/Utilities.js"]],(function(t,e,i){const{merge:n,defined:s}=i;class o extends t{constructor(t,e,i){super(t,e,i,"shape"),this.type="ellipse"}init(t,e,i){s(e.yAxis)&&e.points.forEach((t=>{t.yAxis=e.yAxis})),s(e.xAxis)&&e.points.forEach((t=>{t.xAxis=e.xAxis})),super.init(t,e,i)}render(t){this.graphic=this.annotation.chart.renderer.createElement("ellipse").attr(this.attrsFromOptions(this.options)).add(t),super.render()}translate(t,e){super.translateShape(t,e,!0)}getDistanceFromLine(t,e,i,n){return Math.abs((e.y-t.y)*i-(e.x-t.x)*n+e.x*t.y-e.y*t.x)/Math.sqrt((e.y-t.y)*(e.y-t.y)+(e.x-t.x)*(e.x-t.x))}getAttrs(t,e){var i=t.x,n=t.y;const s=e.x,o=e.y;e=(i+s)/2,t=(n+o)/2;const a=Math.sqrt((i-s)*(i-s)/4+(n-o)*(n-o)/4);return n=180*Math.atan((o-n)/(s-i))/Math.PI,e<i&&(n+=180),{cx:e,cy:t,rx:a,ry:i=this.getRY(),angle:n}}getRY(){const t=this.getYAxis();return s(t)?Math.abs(t.toPixels(this.options.ry)-t.toPixels(0)):this.options.ry}getYAxis(){return this.chart.yAxis[this.options.yAxis]}getAbsolutePosition(t){return this.anchor(t).absolutePosition}redraw(t){if(this.graphic){const i=this.getAbsolutePosition(this.points[0]);var e=this.getAbsolutePosition(this.points[1]);e=this.getAttrs(i,e),i?this.graphic[t?"animate":"attr"]({cx:e.cx,cy:e.cy,rx:e.rx,ry:e.ry,rotation:e.angle,rotationOriginX:e.cx,rotationOriginY:e.cy}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=!!i}super.redraw(t)}setYRadius(t){const e=this.annotation.userOptions.shapes;this.options.ry=t,e&&e[0]&&(e[0].ry=t,e[0].ry=t)}}return o.attrsMap=n(e.attrsMap,{ry:"ry"}),o})),e(t,"Extensions/Annotations/Controllables/ControllableLabel.js",[t["Extensions/Annotations/Controllables/Controllable.js"],t["Core/Templating.js"],t["Extensions/Annotations/MockPoint.js"],t["Core/Utilities.js"]],(function(t,e,i,n){function s(t,e,i,n,s){const o=s&&s.anchorX;s=s&&s.anchorY;let a,l,c=i/2;return r(o)&&r(s)&&(a=[["M",o,s]],l=e-s,0>l&&(l=-n-l),l<i&&(c=o<t+i/2?l:i-l),s>e+n?a.push(["L",t+c,e+n]):s<e?a.push(["L",t+c,e]):o<t?a.push(["L",t,e+n/2]):o>t+i&&a.push(["L",t+i,e+n/2])),a||[]}const{format:o}=e,{extend:a,isNumber:r,pick:l}=n,c=[];class h extends t{static alignedPosition(t,e){const i=t.align,n=t.verticalAlign;let s,o,a=(e.x||0)+(t.x||0),r=(e.y||0)+(t.y||0);return"right"===i?s=1:"center"===i&&(s=2),s&&(a+=(e.width-(t.width||0))/s),"bottom"===n?o=1:"middle"===n&&(o=2),o&&(r+=(e.height-(t.height||0))/o),{x:Math.round(a),y:Math.round(r)}}static compose(t){n.pushUnique(c,t)&&(t.prototype.symbols.connector=s)}static justifiedOptions(t,e,i,n){const s=i.align,o=i.verticalAlign,a=e.box?0:e.padding||0,r=e.getBBox();let l;return e={align:s,verticalAlign:o,x:i.x,y:i.y,width:e.width,height:e.height},i=(n.x||0)-t.plotLeft,n=(n.y||0)-t.plotTop,l=i+a,0>l&&("right"===s?e.align="left":e.x=(e.x||0)-l),l=i+r.width-a,l>t.plotWidth&&("left"===s?e.align="right":e.x=(e.x||0)+t.plotWidth-l),l=n+a,0>l&&("bottom"===o?e.verticalAlign="top":e.y=(e.y||0)-l),l=n+r.height-a,l>t.plotHeight&&("top"===o?e.verticalAlign="bottom":e.y=(e.y||0)+t.plotHeight-l),e}constructor(t,e,i){super(t,e,i,"label")}translatePoint(t,e){super.translatePoint(t,e,0)}translate(t,e){var i=this.annotation.chart;const n=this.annotation.userOptions;var s=i.annotations.indexOf(this.annotation);s=i.options.annotations[s],i.inverted&&(i=t,t=e,e=i),this.options.x+=t,this.options.y+=e,s[this.collection][this.index].x=this.options.x,s[this.collection][this.index].y=this.options.y,n[this.collection][this.index].x=this.options.x,n[this.collection][this.index].y=this.options.y}render(t){const e=this.options,i=this.attrsFromOptions(e),n=e.style;this.graphic=this.annotation.chart.renderer.label("",0,-9999,e.shape,null,null,e.useHTML,null,"annotation-label").attr(i).add(t),this.annotation.chart.styledMode||("contrast"===n.color&&(n.color=this.annotation.chart.renderer.getContrast(-1<h.shapesWithoutBackground.indexOf(e.shape)?"#FFFFFF":e.backgroundColor)),this.graphic.css(e.style).shadow(e.shadow)),e.className&&this.graphic.addClass(e.className),this.graphic.labelrank=e.labelrank,super.render()}redraw(t){var e=this.options,i=this.text||e.format||e.text;const n=this.graphic,s=this.points[0];n?(n.attr({text:i?o(String(i),s.getLabelConfig(),this.annotation.chart):e.formatter.call(s,this)}),e=this.anchor(s),(i=this.position(e))?(n.alignAttr=i,i.anchorX=e.absolutePosition.x,i.anchorY=e.absolutePosition.y,n[t?"animate":"attr"](i)):n.attr({x:0,y:-9999}),n.placed=!!i,super.redraw(t)):this.redraw(t)}anchor(t){const e=super.anchor.apply(this,arguments),i=this.options.x||0,n=this.options.y||0;return e.absolutePosition.x-=i,e.absolutePosition.y-=n,e.relativePosition.x-=i,e.relativePosition.y-=n,e}position(t){var e=this.graphic;const n=this.annotation.chart;var s=n.tooltip;const o=this.points[0];var r=this.options;const c=t.absolutePosition,p=t.relativePosition;let u;if(t=o.series.visible&&i.prototype.isInsidePlot.call(o),e&&t){const{width:i=0,height:d=0}=e;r.distance&&s?u=s.getPosition.call({chart:n,distance:l(r.distance,16),getPlayingField:s.getPlayingField},i,d,{plotX:p.x,plotY:p.y,negative:o.negative,ttBelow:o.ttBelow,h:p.height||p.width}):r.positioner?u=r.positioner.call(this):(s={x:c.x,y:c.y,width:0,height:0},u=h.alignedPosition(a(r,{width:i,height:d}),s),"justify"===this.options.overflow&&(u=h.alignedPosition(h.justifiedOptions(n,e,r,u),s))),r.crop&&(e=u.x-n.plotLeft,r=u.y-n.plotTop,t=n.isInsidePlot(e,r)&&n.isInsidePlot(e+i,r+d))}return t?u:null}}return h.attrsMap={backgroundColor:"fill",borderColor:"stroke",borderWidth:"stroke-width",zIndex:"zIndex",borderRadius:"r",padding:"padding"},h.shapesWithoutBackground=["connector"],h})),e(t,"Extensions/Annotations/Controllables/ControllableImage.js",[t["Extensions/Annotations/Controllables/Controllable.js"],t["Extensions/Annotations/Controllables/ControllableLabel.js"]],(function(t,e){class i extends t{constructor(t,e,i){super(t,e,i,"shape"),this.type="image",this.translate=super.translateShape}render(t){const e=this.attrsFromOptions(this.options),i=this.options;this.graphic=this.annotation.chart.renderer.image(i.src,0,-9e9,i.width,i.height).attr(e).add(t),this.graphic.width=i.width,this.graphic.height=i.height,super.render()}redraw(t){if(this.graphic){var i=this.anchor(this.points[0]);(i=e.prototype.position.call(this,i))?this.graphic[t?"animate":"attr"]({x:i.x,y:i.y}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=!!i}super.redraw(t)}}return i.attrsMap={width:"width",height:"height",zIndex:"zIndex"},i})),e(t,"Core/Chart/ChartNavigationComposition.js",[],(function(){var t;return function(t){t.compose=function(t){return t.navigation||(t.navigation=new e(t)),t};class e{constructor(t){this.updates=[],this.chart=t}addUpdate(t){this.chart.navigation.updates.push(t)}update(t,e){this.updates.forEach((i=>{i.call(this.chart,t,e)}))}}t.Additions=e}(t||(t={})),t})),e(t,"Extensions/Annotations/NavigationBindingsUtilities.js",[t["Core/Utilities.js"]],(function(t){const{defined:e,isNumber:i,pick:n}=t,s={backgroundColor:"string",borderColor:"string",borderRadius:"string",color:"string",fill:"string",fontSize:"string",labels:"string",name:"string",stroke:"string",title:"string"};return{annotationsFieldsTypes:s,getAssignedAxis:function(t){return t.filter((t=>{var e=t.axis.getExtremes();const s=e.min;e=e.max;const o=n(t.axis.minPointOffset,0);return i(s)&&i(e)&&t.value>=s-o&&t.value<=e+o&&!t.axis.options.isInternal}))[0]},getFieldType:function(t,i){return i=typeof i,e(t=s[t])&&(i=t),{string:"text",number:"number",boolean:"checkbox"}[i]}}})),e(t,"Extensions/Annotations/NavigationBindingsDefaults.js",[t["Extensions/Annotations/NavigationBindingsUtilities.js"],t["Core/Utilities.js"]],(function(t,e){const{getAssignedAxis:i}=t,{isNumber:n,merge:s}=e;return{lang:{navigation:{popup:{simpleShapes:"Simple shapes",lines:"Lines",circle:"Circle",ellipse:"Ellipse",rectangle:"Rectangle",label:"Label",shapeOptions:"Shape options",typeOptions:"Details",fill:"Fill",format:"Text",strokeWidth:"Line width",stroke:"Line color",title:"Title",name:"Name",labelOptions:"Label options",labels:"Labels",backgroundColor:"Background color",backgroundColors:"Background colors",borderColor:"Border color",borderRadius:"Border radius",borderWidth:"Border width",style:"Style",padding:"Padding",fontSize:"Font size",color:"Color",height:"Height",shapes:"Shape options"}}},navigation:{bindingsClassName:"highcharts-bindings-container",bindings:{circleAnnotation:{className:"highcharts-circle-annotation",start:function(t){var e=this.chart.pointer.getCoordinates(t);t=i(e.xAxis),e=i(e.yAxis);const n=this.chart.options.navigation;if(t&&e)return this.chart.addAnnotation(s({langKey:"circle",type:"basicAnnotation",shapes:[{type:"circle",point:{x:t.value,y:e.value,xAxis:t.axis.index,yAxis:e.axis.index},r:5}]},n.annotationsOptions,n.bindings.circleAnnotation.annotationsOptions))},steps:[function(t,e){var i=e.options.shapes;if(i=i&&i[0]&&i[0].point||{},n(i.xAxis)&&n(i.yAxis)){var s=this.chart.inverted;const e=this.chart.xAxis[i.xAxis].toPixels(i.x);i=this.chart.yAxis[i.yAxis].toPixels(i.y),s=Math.max(Math.sqrt(Math.pow(s?i-t.chartX:e-t.chartX,2)+Math.pow(s?e-t.chartY:i-t.chartY,2)),5)}e.update({shapes:[{r:s}]})}]},ellipseAnnotation:{className:"highcharts-ellipse-annotation",start:function(t){var e=this.chart.pointer.getCoordinates(t);t=i(e.xAxis),e=i(e.yAxis);const n=this.chart.options.navigation;if(t&&e)return this.chart.addAnnotation(s({langKey:"ellipse",type:"basicAnnotation",shapes:[{type:"ellipse",xAxis:t.axis.index,yAxis:e.axis.index,points:[{x:t.value,y:e.value},{x:t.value,y:e.value}],ry:1}]},n.annotationsOptions,n.bindings.ellipseAnnotation.annotationOptions))},steps:[function(t,e){const i=(e=e.shapes[0]).getAbsolutePosition(e.points[1]);e.translatePoint(t.chartX-i.x,t.chartY-i.y,1),e.redraw(!1)},function(t,e){var i=(e=e.shapes[0]).getAbsolutePosition(e.points[0]);const n=e.getAbsolutePosition(e.points[1]);t=e.getDistanceFromLine(i,n,t.chartX,t.chartY),i=e.getYAxis(),t=Math.abs(i.toValue(0)-i.toValue(t)),e.setYRadius(t),e.redraw(!1)}]},rectangleAnnotation:{className:"highcharts-rectangle-annotation",start:function(t){t=this.chart.pointer.getCoordinates(t);var e=i(t.xAxis),n=i(t.yAxis);if(e&&n){t=e.value;var o=n.value;e=e.axis.index,n=n.axis.index;var a=this.chart.options.navigation;return this.chart.addAnnotation(s({langKey:"rectangle",type:"basicAnnotation",shapes:[{type:"path",points:[{xAxis:e,yAxis:n,x:t,y:o},{xAxis:e,yAxis:n,x:t,y:o},{xAxis:e,yAxis:n,x:t,y:o},{xAxis:e,yAxis:n,x:t,y:o},{command:"Z"}]}]},a.annotationsOptions,a.bindings.rectangleAnnotation.annotationsOptions))}},steps:[function(t,e){var n=e.options.shapes;n=n&&n[0]&&n[0].points||[];var s=this.chart.pointer.getCoordinates(t);t=i(s.xAxis),s=i(s.yAxis),t&&s&&(t=t.value,s=s.value,n[1].x=t,n[2].x=t,n[2].y=s,n[3].y=s,e.update({shapes:[{points:n}]}))}]},labelAnnotation:{className:"highcharts-label-annotation",start:function(t){var e=this.chart.pointer.getCoordinates(t);t=i(e.xAxis),e=i(e.yAxis);const n=this.chart.options.navigation;if(t&&e)return this.chart.addAnnotation(s({langKey:"label",type:"basicAnnotation",labelOptions:{format:"{y:.2f}"},labels:[{point:{xAxis:t.axis.index,yAxis:e.axis.index,x:t.value,y:e.value},overflow:"none",crop:!0}]},n.annotationsOptions,n.bindings.labelAnnotation.annotationsOptions))}}},events:{},annotationsOptions:{animation:{defer:0}}}}})),e(t,"Extensions/Annotations/NavigationBindings.js",[t["Core/Chart/ChartNavigationComposition.js"],t["Core/Defaults.js"],t["Core/Templating.js"],t["Core/Globals.js"],t["Extensions/Annotations/NavigationBindingsDefaults.js"],t["Extensions/Annotations/NavigationBindingsUtilities.js"],t["Core/Utilities.js"]],(function(t,e,i,n,s,o,a){function r(){this.chart.navigationBindings&&this.chart.navigationBindings.deselectAnnotation()}function l(){this.navigationBindings&&this.navigationBindings.destroy()}function c(){const t=this.options;t&&t.navigation&&t.navigation.bindings&&(this.navigationBindings=new M(this,t.navigation),this.navigationBindings.initEvents(),this.navigationBindings.initUpdate())}function h(){const t=this.navigationBindings;if(this&&t){let e=!1;if(this.series.forEach((t=>{!t.options.isInternal&&t.visible&&(e=!0)})),this.navigationBindings&&this.navigationBindings.container&&this.navigationBindings.container[0]){const i=this.navigationBindings.container[0];O(t.boundClassNames,((t,n)=>{if(n=i.querySelectorAll("."+n))for(let i=0;i<n.length;i++){const s=n[i],o=s.className;"normal"===t.noDataState||e?-1!==o.indexOf("highcharts-disabled-btn")&&s.classList.remove("highcharts-disabled-btn"):-1===o.indexOf("highcharts-disabled-btn")&&(s.className+=" highcharts-disabled-btn")}}))}}}function p(){this.deselectAnnotation()}function u(){this.selectedButtonElement=null}function d(t){function e(t){const e=this,n=e.chart.navigationBindings,s=n.activeAnnotation;i&&i.call(e,t),s!==e?(n.deselectAnnotation(),n.activeAnnotation=e,e.setControlPointsVisibility(!0),A(n,"showPopup",{annotation:e,formType:"annotation-toolbar",options:n.annotationToFields(e),onSubmit:function(t){if("remove"===t.actionType)n.activeAnnotation=!1,n.chart.removeAnnotation(e);else{const i={};n.fieldsToOptions(t.fields,i),n.deselectAnnotation(),t=i.typeOptions,"measure"===e.options.type&&(t.crosshairY.enabled=0!==t.crosshairY.strokeWidth,t.crosshairX.enabled=0!==t.crosshairX.strokeWidth),e.update(i)}}})):A(n,"closePopup"),t.activeAnnotation=!0}const i=t.prototype.defaultOptions.events&&t.prototype.defaultOptions.events.click;let n,s;w(!0,t.prototype.defaultOptions.events,{click:e,touchstart:function(t){n=t.touches[0].clientX,s=t.touches[0].clientY},touchend:function(t){n&&4<=Math.sqrt(Math.pow(n-t.changedTouches[0].clientX,2)+Math.pow(s-t.changedTouches[0].clientY,2))||e.call(this,t)}})}const{setOptions:f}=e,{format:g}=i,{doc:v,win:b}=n,{getFieldType:m}=o,{addEvent:x,attr:y,fireEvent:A,isArray:C,isFunction:E,isNumber:P,isObject:k,merge:w,objectEach:O,pick:T}=a,j=[];class M{static compose(t,e){a.pushUnique(j,t)&&(x(t,"remove",r),d(t),O(t.types,(t=>{d(t)}))),a.pushUnique(j,e)&&(x(e,"destroy",l),x(e,"load",c),x(e,"render",h)),a.pushUnique(j,M)&&(x(M,"closePopup",p),x(M,"deselectButton",u)),a.pushUnique(j,f)&&f(s)}constructor(t,e){this.selectedButton=this.boundClassNames=void 0,this.chart=t,this.options=e,this.eventsToUnbind=[],this.container=this.chart.container.getElementsByClassName(this.options.bindingsClassName||""),this.container.length||(this.container=v.getElementsByClassName(this.options.bindingsClassName||""))}initEvents(){const t=this,e=t.chart,i=t.container,s=t.options;t.boundClassNames={},O(s.bindings||{},(e=>{t.boundClassNames[e.className]=e})),[].forEach.call(i,(e=>{t.eventsToUnbind.push(x(e,"click",(i=>{const n=t.getButtonEvents(e,i);n&&!n.button.classList.contains("highcharts-disabled-btn")&&t.bindingsButtonClick(n.button,n.events,i)})))})),O(s.events||{},((e,i)=>{E(e)&&t.eventsToUnbind.push(x(t,i,e,{passive:!1}))})),t.eventsToUnbind.push(x(e.container,"click",(function(i){!e.cancelClick&&e.isInsidePlot(i.chartX-e.plotLeft,i.chartY-e.plotTop,{visiblePlotOnly:!0})&&t.bindingsChartClick(this,i)}))),t.eventsToUnbind.push(x(e.container,n.isTouchDevice?"touchmove":"mousemove",(function(e){t.bindingsContainerMouseMove(this,e)}),n.isTouchDevice?{passive:!1}:void 0))}initUpdate(){const e=this;t.compose(this.chart).navigation.addUpdate((t=>{e.update(t)}))}bindingsButtonClick(t,e,i){const n=this.chart,s=n.renderer.boxWrapper;let o=!0;this.selectedButtonElement&&(this.selectedButtonElement.classList===t.classList&&(o=!1),A(this,"deselectButton",{button:this.selectedButtonElement}),this.nextEvent&&(this.currentUserDetails&&"annotations"===this.currentUserDetails.coll&&n.removeAnnotation(this.currentUserDetails),this.mouseMoveEvent=this.nextEvent=!1)),o?(this.selectedButton=e,this.selectedButtonElement=t,A(this,"selectButton",{button:t}),e.init&&e.init.call(this,t,i),(e.start||e.steps)&&n.renderer.boxWrapper.addClass("highcharts-draw-mode")):(n.stockTools&&n.stockTools.toggleButtonActiveClass(t),s.removeClass("highcharts-draw-mode"),this.mouseMoveEvent=this.nextEvent=!1,this.selectedButton=null)}bindingsChartClick(t,e){t=this.chart;const i=this.activeAnnotation,n=this.selectedButton;t=t.renderer.boxWrapper,i&&(i.cancelClick||e.activeAnnotation||!e.target.parentNode||function(t,e){const i=b.Element.prototype,n=i.matches||i.msMatchesSelector||i.webkitMatchesSelector;let s=null;if(i.closest)s=i.closest.call(t,e);else do{if(n.call(t,e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return s}(e.target,".highcharts-popup")?i.cancelClick&&setTimeout((()=>{i.cancelClick=!1}),0):A(this,"closePopup")),n&&n.start&&(this.nextEvent?(this.nextEvent(e,this.currentUserDetails),this.steps&&(this.stepIndex++,n.steps[this.stepIndex]?this.mouseMoveEvent=this.nextEvent=n.steps[this.stepIndex]:(A(this,"deselectButton",{button:this.selectedButtonElement}),t.removeClass("highcharts-draw-mode"),n.end&&n.end.call(this,e,this.currentUserDetails),this.mouseMoveEvent=this.nextEvent=!1,this.selectedButton=null))):(this.currentUserDetails=n.start.call(this,e))&&n.steps?(this.stepIndex=0,this.steps=!0,this.mouseMoveEvent=this.nextEvent=n.steps[this.stepIndex]):(A(this,"deselectButton",{button:this.selectedButtonElement}),t.removeClass("highcharts-draw-mode"),this.steps=!1,this.selectedButton=null,n.end&&n.end.call(this,e,this.currentUserDetails)))}bindingsContainerMouseMove(t,e){this.mouseMoveEvent&&this.mouseMoveEvent(e,this.currentUserDetails)}fieldsToOptions(t,e){return O(t,((t,i)=>{const n=parseFloat(t),s=i.split("."),o=s.length-1;if(!P(n)||t.match(/px|em/g)||i.match(/format/g)||(t=n),"undefined"!==t){let i=e;s.forEach(((e,n)=>{const a=T(s[n+1],"");o===n?i[e]=t:(i[e]||(i[e]=a.match(/\d/g)?[]:{}),i=i[e])}))}})),e}deselectAnnotation(){this.activeAnnotation&&(this.activeAnnotation.setControlPointsVisibility(!1),this.activeAnnotation=!1)}annotationToFields(t){function e(i,n,o,r,l){let c;o&&i&&-1===a.indexOf(n)&&(0<=(o.indexOf&&o.indexOf(n))||o[n]||!0===o)&&(C(i)?(r[n]=[],i.forEach(((t,i)=>{k(t)?(r[n][i]={},O(t,((t,o)=>{e(t,o,s[n],r[n][i],n)}))):e(t,0,s[n],r[n],n)}))):k(i)?(c={},C(r)?(r.push(c),c[n]={},c=c[n]):r[n]=c,O(i,((t,i)=>{e(t,i,0===n?o:s[n],c,n)}))):"format"===n?r[n]=[g(i,t.labels[0].points[0]).toString(),"text"]:C(r)?r.push([i,m(l,i)]):r[n]=[i,m(n,i)])}const i=t.options,n=M.annotationsEditable,s=n.nestedOptions,o=T(i.type,i.shapes&&i.shapes[0]&&i.shapes[0].type,i.labels&&i.labels[0]&&i.labels[0].type,"label"),a=M.annotationsNonEditable[i.langKey]||[],r={langKey:i.langKey,type:o};return O(i,((t,a)=>{"typeOptions"===a?(r[a]={},O(i[a],((t,i)=>{e(t,i,s,r[a],i)}))):e(t,a,n[o],r,a)})),r}getClickedClassNames(t,e){let i,n=e.target;for(e=[];n&&n.tagName&&((i=y(n,"class"))&&(e=e.concat(i.split(" ").map((t=>[t,n])))),n=n.parentNode,n!==t););return e}getButtonEvents(t,e){const i=this;let n;return this.getClickedClassNames(t,e).forEach((t=>{i.boundClassNames[t[0]]&&!n&&(n={events:i.boundClassNames[t[0]],button:t[1]})})),n}update(t){this.options=w(!0,this.options,t),this.removeEvents(),this.initEvents()}removeEvents(){this.eventsToUnbind.forEach((t=>t()))}destroy(){this.removeEvents()}}return M.annotationsEditable={nestedOptions:{labelOptions:["style","format","backgroundColor"],labels:["style"],label:["style"],style:["fontSize","color"],background:["fill","strokeWidth","stroke"],innerBackground:["fill","strokeWidth","stroke"],outerBackground:["fill","strokeWidth","stroke"],shapeOptions:["fill","strokeWidth","stroke"],shapes:["fill","strokeWidth","stroke"],line:["strokeWidth","stroke"],backgroundColors:[!0],connector:["fill","strokeWidth","stroke"],crosshairX:["strokeWidth","stroke"],crosshairY:["strokeWidth","stroke"]},circle:["shapes"],ellipse:["shapes"],verticalLine:[],label:["labelOptions"],measure:["background","crosshairY","crosshairX"],fibonacci:[],tunnel:["background","line","height"],pitchfork:["innerBackground","outerBackground"],rect:["shapes"],crookedLine:[],basicAnnotation:["shapes","labelOptions"]},M.annotationsNonEditable={rectangle:["crosshairX","crosshairY","labelOptions"],ellipse:["labelOptions"],circle:["labelOptions"]},M})),e(t,"Shared/BaseForm.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Utilities.js"]],(function(t,e){const{addEvent:i,createElement:n}=e;return class{constructor(t,e){this.iconsURL=e,this.container=this.createPopupContainer(t),this.closeButton=this.addCloseButton()}createPopupContainer(t,e="highcharts-popup highcharts-no-tooltip"){return n("div",{className:e},void 0,t)}addCloseButton(t="highcharts-popup-close"){const e=this,s=this.iconsURL,o=n("div",{className:t},void 0,this.container);return o.style["background-image"]="url("+(s.match(/png|svg|jpeg|jpg|gif/gi)?s:s+"close.svg")+")",["click","touchstart"].forEach((t=>{i(o,t,e.closeButtonEvents.bind(e))})),o}closeButtonEvents(){this.closePopup()}showPopup(e="highcharts-annotation-toolbar"){const i=this.container,n=this.closeButton;this.type=void 0,i.innerHTML=t.emptyHTML,0<=i.className.indexOf(e)&&(i.classList.remove(e),i.removeAttribute("style")),i.appendChild(n),i.style.display="block",i.style.height=""}closePopup(){this.container.style.display="none"}}})),e(t,"Extensions/Annotations/Popup/PopupAnnotations.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,e){function i(t,e,c,p,u,d){if(e){var f,g,v=this.addInput,b=this.lang;l(p,((n,s)=>{f=""!==c?c+"."+s:s,r(n)&&(!a(n)||a(n)&&r(n[0])?((g=b[s]||s).match(/\d/g)||u.push([!0,g,t]),i.call(this,t,e,f,n,u,!1)):u.push([this,f,"annotation",t,n]))})),d&&(h(u,(t=>t[1].match(/format/g)?-1:1)),s&&u.reverse(),u.forEach((t=>{!0===t[0]?o("span",{className:"highcharts-annotation-title"},void 0,t[2]).appendChild(n.createTextNode(t[1])):(t[4]={value:t[4][0],type:t[4][1]},v.apply(t[0],t.splice(1)))})))}}const{doc:n,isFirefox:s}=t,{createElement:o,isArray:a,isObject:r,objectEach:l,pick:c,stableSort:h}=e;return{addForm:function(t,e,s,a){if(t){var r=this.container,l=this.lang,c=o("h2",{className:"highcharts-popup-main-title"},void 0,r);c.appendChild(n.createTextNode(l[e.langKey]||e.langKey||"")),c=o("div",{className:"highcharts-popup-lhs-col highcharts-popup-lhs-full"},void 0,r);var h=o("div",{className:"highcharts-popup-bottom-row"},void 0,r);i.call(this,c,t,"",e,[],!0),this.addButton(h,a?l.addButton||"Add":l.saveButton||"Save",a?"add":"save",r,s)}},addToolbar:function(t,e,i){const s=this.lang,a=this.container,r=this.showForm;-1===a.className.indexOf("highcharts-annotation-toolbar")&&(a.className+=" highcharts-annotation-toolbar"),t&&(a.style.top=t.plotTop+10+"px"),o("span",void 0,void 0,a).appendChild(n.createTextNode(c(s[e.langKey]||e.langKey,e.shapes&&e.shapes[0].type,"")));let l=this.addButton(a,s.removeButton||"Remove","remove",a,i);l.className+=" highcharts-annotation-remove-button",l.style["background-image"]="url("+this.iconsURL+"destroy.svg)",l=this.addButton(a,s.editButton||"Edit","edit",a,(()=>{r.call(this,"annotation-edit",t,e,i)})),l.className+=" highcharts-annotation-edit-button",l.style["background-image"]="url("+this.iconsURL+"edit.svg)"}}})),e(t,"Extensions/Annotations/Popup/PopupIndicators.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Globals.js"],t["Extensions/Annotations/NavigationBindingsUtilities.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e,i,n,s){function o(t){const e=m("div",{className:"highcharts-popup-lhs-col"},void 0,t);return t=m("div",{className:"highcharts-popup-rhs-col"},void 0,t),m("div",{className:"highcharts-popup-rhs-col-wrapper"},void 0,t),{lhsCol:e,rhsCol:t}}function a(e,i,n,s){const o=this,a=o.lang,l=i.querySelectorAll(".highcharts-popup-lhs-col")[0];i=i.querySelectorAll(".highcharts-popup-rhs-col")[0];const c="edit"===n;if(n=c?e.series:e.options.plotOptions||{},e||!n){var h,v=[];c||y(n)?y(n)&&(v=u.call(this,n)):v=p.call(this,n,s),E(v,((t,e)=>(t=t.indicatorFullName.toLowerCase())<(e=e.indicatorFullName.toLowerCase())?-1:t>e?1:0)),l.children[1]&&l.children[1].remove();var x=m("ul",{className:"highcharts-indicator-list"},void 0,l),A=i.querySelectorAll(".highcharts-popup-rhs-col-wrapper")[0];v.forEach((i=>{const{indicatorFullName:n,indicatorType:s,series:a}=i;(h=m("li",{className:"highcharts-indicator-list"},void 0,x)).appendChild(g.createTextNode(n)),["click","touchstart"].forEach((i=>{b(h,i,(function(){const i=A.parentNode.children[1];{const i=a.params||a.options.params;A.innerHTML=t.emptyHTML,m("h3",{className:"highcharts-indicator-title"},void 0,A).appendChild(g.createTextNode(d(a,s).indicatorFullName)),m("input",{type:"hidden",name:"highcharts-type-"+s,value:s},void 0,A),f.call(o,s,"series",e,A,a,a.linkedParent&&a.linkedParent.options.id),i.volumeSeriesID&&f.call(o,s,"volume",e,A,a,a.linkedParent&&i.volumeSeriesID),r.call(o,e,"params",i,s,A)}i&&(i.style.display="block"),c&&a.options&&m("input",{type:"hidden",name:"highcharts-id-"+s,value:a.options.id},void 0,A).setAttribute("highcharts-data-series-id",a.options.id)}))}))})),0<x.childNodes.length?x.childNodes[0].click():c||(t.setElementHTML(A.parentNode.children[0],a.noFilterMatch||""),A.parentNode.children[1].style.display="none")}}function r(t,e,i,n,s){if(t){var o=this.addInput;C(i,((i,a)=>{var l=e+"."+a;x(i)&&l&&(A(i)&&(o.call(this,l,n,s,{}),r.call(this,t,l,i,n,s)),l in P?(l=c.call(this,n,l,s),h.call(this,t,e,l,n,a,i)):"params.volumeSeriesID"===l||y(i)||o.call(this,l,n,s,{value:i,type:"number"}))}))}}function l(t,e){const i=this;var n=e.querySelectorAll(".highcharts-popup-lhs-col")[0];e=this.lang.clearFilter,n=m("div",{className:"highcharts-input-wrapper"},void 0,n);const s=this.addInput("searchIndicators","input",n,{value:"",type:"text",htmlFor:"search-indicators",labelClassName:"highcharts-input-search-indicators-label"}),o=m("a",{textContent:e},void 0,n);s.classList.add("highcharts-input-search-indicators"),o.classList.add("clear-filter-button"),b(s,"input",(function(e){a.call(i,t,i.container,"add",this.value),o.style.display=this.value.length?"inline-block":"none"})),["click","touchstart"].forEach((e=>{b(o,e,(function(){s.value="",a.call(i,t,i.container,"add",""),o.style.display="none"}))}))}function c(t,e,i){var n=e.split(".");n=n[n.length-1],t="highcharts-"+e+"-type-"+t;const s=this.lang;return m("label",{htmlFor:t},null,i).appendChild(g.createTextNode(s[n]||e)),(i=m("select",{name:t,className:"highcharts-popup-field",id:"highcharts-select-"+e},null,i)).setAttribute("id","highcharts-select-"+e),i}function h(t,e,i,n,s,o,a){"series"===e||"volume"===e?t.series.forEach((t=>{const n=t.options,s=n.name||n.params?t.name:n.id||"";"highcharts-navigator-series"!==n.id&&n.id!==(a&&a.options&&a.options.id)&&(x(o)||"volume"!==e||"column"!==t.type||(o=n.id),m("option",{value:n.id},void 0,i).appendChild(g.createTextNode(s)))})):n&&s&&k[s+"-"+n].forEach((t=>{m("option",{value:t},void 0,i).appendChild(g.createTextNode(t))})),x(o)&&(i.value=o)}function p(t,e){const i=this.chart&&this.chart.options.lang,n=i&&i.navigation&&i.navigation.popup&&i.navigation.popup.indicatorAliases,s=[];let o;return C(t,((t,i)=>{var a=t&&t.options;if(t.params||a&&a.params){const{indicatorFullName:r,indicatorType:l}=d(t,i);e?(i=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),i=new RegExp(i,"i"),a=n&&n[l]&&n[l].join(" ")||"",(r.match(i)||a.match(i))&&(o={indicatorFullName:r,indicatorType:l,series:t},s.push(o))):(o={indicatorFullName:r,indicatorType:l,series:t},s.push(o))}})),s}function u(t){const e=[];return t.forEach((t=>{t.is("sma")&&e.push({indicatorFullName:t.name,indicatorType:t.type,series:t})})),e}function d(t,e){const i=t.options;let n=v[e]&&v[e].prototype.nameBase||e.toUpperCase();return i&&i.type&&(e=t.options.type,n=t.name),{indicatorFullName:n,indicatorType:e}}function f(t,e,i,n,s,o){i&&(t=c.call(this,t,e,n),h.call(this,i,e,t,void 0,void 0,void 0,s),x(o)&&(t.value=o))}const{doc:g}=e,{seriesTypes:v}=n,{addEvent:b,createElement:m,defined:x,isArray:y,isObject:A,objectEach:C,stableSort:E}=s;var P;!function(t){t[t["params.algorithm"]=0]="params.algorithm",t[t["params.average"]=1]="params.average"}(P||(P={}));const k={"algorithm-pivotpoints":["standard","fibonacci","camarilla"],"average-disparityindex":["sma","ema","dema","tema","wma"]};return{addForm:function(t,e,i){let n;if(e=this.lang,t){this.tabs.init.call(this,t);var s=this.container.querySelectorAll(".highcharts-tab-item-content");o(s[0]),l.call(this,t,s[0]),a.call(this,t,s[0],"add"),n=s[0].querySelectorAll(".highcharts-popup-rhs-col")[0],this.addButton(n,e.addButton||"add","add",n,i),o(s[1]),a.call(this,t,s[1],"edit"),n=s[1].querySelectorAll(".highcharts-popup-rhs-col")[0],this.addButton(n,e.saveButton||"save","edit",n,i),this.addButton(n,e.removeButton||"remove","remove",n,i)}},getAmount:function(){let t=0;return this.series.forEach((e=>{(e.params||e.options.params)&&t++})),t}}})),e(t,"Extensions/Annotations/Popup/PopupTabs.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,e){function i(){return l("div",{className:"highcharts-tab-item-content highcharts-no-mousewheel"},void 0,this.container)}function n(t,e){const i=this.container,n=this.lang;let s="highcharts-tab-item";return 0===e&&(s+=" highcharts-tab-disabled"),(e=l("span",{className:s},void 0,i)).appendChild(a.createTextNode(n[t+"Button"]||t)),e.setAttribute("highcharts-data-tab-type",t),e}function s(t,e){const i=this.container.querySelectorAll(".highcharts-tab-item-content");t.className+=" highcharts-tab-item-active",i[e].className+=" highcharts-tab-item-show"}function o(t){const e=this;this.container.querySelectorAll(".highcharts-tab-item").forEach(((i,n)=>{0===t&&"edit"===i.getAttribute("highcharts-data-tab-type")||["click","touchstart"].forEach((t=>{r(i,t,(function(){{var t=e.container;const i=t.querySelectorAll(".highcharts-tab-item");t=t.querySelectorAll(".highcharts-tab-item-content");for(let e=0;e<i.length;e++)i[e].classList.remove("highcharts-tab-item-active"),t[e].classList.remove("highcharts-tab-item-show")}s.call(e,this,n)}))}))}))}const{doc:a}=t,{addEvent:r,createElement:l}=e;return{init:function(t){if(t){t=this.indicators.getAmount.call(t);var e=n.call(this,"add");n.call(this,"edit",t),i.call(this),i.call(this),o.call(this,t),s.call(this,e,0)}}}})),e(t,"Extensions/Annotations/Popup/Popup.js",[t["Shared/BaseForm.js"],t["Core/Globals.js"],t["Core/Defaults.js"],t["Extensions/Annotations/Popup/PopupAnnotations.js"],t["Extensions/Annotations/Popup/PopupIndicators.js"],t["Extensions/Annotations/Popup/PopupTabs.js"],t["Core/Utilities.js"]],(function(t,e,i,n,s,o,a){const{doc:r}=e,{getOptions:l}=i,{addEvent:c,createElement:h,extend:p,fireEvent:u,pick:d}=a;class f extends t{constructor(t,e,i){super(t,e),this.chart=i,this.lang=l().lang.navigation.popup,c(this.container,"mousedown",(()=>{const t=i&&i.navigationBindings&&i.navigationBindings.activeAnnotation;if(t){t.cancelClick=!0;const e=c(r,"click",(()=>{setTimeout((()=>{t.cancelClick=!1}),0),e()}))}}))}addInput(t,e,i,n){var s=t.split(".");s=s[s.length-1];const o=this.lang;return e="highcharts-"+e+"-"+d(n.htmlFor,s),s.match(/^\d+$/)||h("label",{htmlFor:e,className:n.labelClassName},void 0,i).appendChild(r.createTextNode(o[s]||s)),(i=h("input",{name:e,value:n.value,type:n.type,className:"highcharts-popup-field"},void 0,i)).setAttribute("highcharts-data-name",t),i}closeButtonEvents(){if(this.chart){const t=this.chart.navigationBindings;u(t,"closePopup"),t&&t.selectedButtonElement&&u(t,"deselectButton",{button:t.selectedButtonElement})}else super.closeButtonEvents()}addButton(t,e,i,n,s){const o=h("button",void 0,void 0,t);return o.appendChild(r.createTextNode(e)),s&&["click","touchstart"].forEach((t=>{c(o,t,(()=>(this.closePopup(),s(function(t,e){const i=Array.prototype.slice.call(t.querySelectorAll("input")),n=Array.prototype.slice.call(t.querySelectorAll("select")),s=t.querySelectorAll("#highcharts-select-series > option:checked")[0];t=t.querySelectorAll("#highcharts-select-volume > option:checked")[0];const o={actionType:e,linkedTo:s&&s.getAttribute("value")||"",fields:{}};return i.forEach((t=>{const e=t.getAttribute("highcharts-data-name");t.getAttribute("highcharts-data-series-id")?o.seriesId=t.value:e?o.fields[e]=t.value:o.type=t.value})),n.forEach((t=>{var e=t.id;"highcharts-select-series"!==e&&"highcharts-select-volume"!==e&&(e=e.split("highcharts-select-")[1],o.fields[e]=t.value)})),t&&(o.fields["params.volumeSeriesID"]=t.getAttribute("value")||""),o}(n,i)))))})),o}showForm(t,e,i,n){e&&(this.showPopup(),"indicators"===t&&this.indicators.addForm.call(this,e,i,n),"annotation-toolbar"===t&&this.annotations.addToolbar.call(this,e,i,n),"annotation-edit"===t&&this.annotations.addForm.call(this,e,i,n),"flag"===t&&this.annotations.addForm.call(this,e,i,n,!0),this.type=t,this.container.style.height=this.container.offsetHeight+"px")}}return p(f.prototype,{annotations:n,indicators:s,tabs:o}),f})),e(t,"Extensions/Annotations/Popup/PopupComposition.js",[t["Extensions/Annotations/Popup/Popup.js"],t["Core/Utilities.js"]],(function(t,e){function i(){this.popup&&this.popup.closePopup()}function n(e){this.popup||(this.popup=new t(this.chart.container,this.chart.options.navigation.iconsURL||this.chart.options.stockTools&&this.chart.options.stockTools.gui.iconsURL||"https://code.highcharts.com/11.1.0/gfx/stock-icons/",this.chart)),this.popup.showForm(e.formType,this.chart,e.options,e.onSubmit)}function s(t,e){this.inClass(e.target,"highcharts-popup")||t.apply(this,Array.prototype.slice.call(arguments,1))}const{addEvent:o,wrap:a}=e,r=[];return{compose:function(t,l){e.pushUnique(r,t)&&(o(t,"closePopup",i),o(t,"showPopup",n)),e.pushUnique(r,l)&&a(l.prototype,"onContainerMouseDown",s)}}})),e(t,"Extensions/Annotations/Annotation.js",[t["Core/Animation/AnimationUtilities.js"],t["Extensions/Annotations/AnnotationChart.js"],t["Extensions/Annotations/AnnotationDefaults.js"],t["Extensions/Annotations/Controllables/ControllableRect.js"],t["Extensions/Annotations/Controllables/ControllableCircle.js"],t["Extensions/Annotations/Controllables/ControllableEllipse.js"],t["Extensions/Annotations/Controllables/ControllablePath.js"],t["Extensions/Annotations/Controllables/ControllableImage.js"],t["Extensions/Annotations/Controllables/ControllableLabel.js"],t["Extensions/Annotations/ControlPoint.js"],t["Extensions/Annotations/ControlTarget.js"],t["Extensions/Annotations/EventEmitter.js"],t["Extensions/Annotations/MockPoint.js"],t["Extensions/Annotations/NavigationBindings.js"],t["Extensions/Annotations/Popup/PopupComposition.js"],t["Core/Utilities.js"]],(function(t,e,i,n,s,o,a,r,l,c,h,p,u,d,f,g){function v(t,e){const i={};return["labels","shapes"].forEach((n=>{const s=t[n];s&&(i[n]=e[n]?E(e[n]).map((function(t,e){return A(s[e],t)})):t[n])})),i}const{getDeferredAnimation:b}=t,{destroyObjectProperties:m,erase:x,fireEvent:y,merge:A,pick:C,splat:E}=g;class P extends p{static compose(t,i,n){e.compose(P,t,i),l.compose(n),a.compose(t,n),d.compose(P,t),f.compose(d,i)}constructor(t,e){super(),this.coll="annotations",this.shapesGroup=this.labelsGroup=this.labelCollector=this.group=this.graphic=this.animationConfig=void 0,this.chart=t,this.points=[],this.controlPoints=[],this.coll="annotations",this.index=-1,this.labels=[],this.shapes=[],this.options=A(this.defaultOptions,e),this.userOptions=e,e=v(this.options,e),this.options.labels=e.labels,this.options.shapes=e.shapes,this.init(t,this.options)}addClipPaths(){this.setClipAxes(),this.clipXAxis&&this.clipYAxis&&this.options.crop&&(this.clipRect=this.chart.renderer.clipRect(this.getClipBox()))}addLabels(){const t=this.options.labels||[];t.forEach(((e,i)=>{e=this.initLabel(e,i),A(!0,t[i],e.options)}))}addShapes(){const t=this.options.shapes||[];t.forEach(((e,i)=>{e=this.initShape(e,i),A(!0,t[i],e.options)}))}destroy(){const t=this.chart,e=function(t){t.destroy()};this.labels.forEach(e),this.shapes.forEach(e),this.clipYAxis=this.clipXAxis=null,x(t.labelCollectors,this.labelCollector),super.destroy(),this.destroyControlTarget(),m(this,t)}destroyItem(t){x(this[t.itemType+"s"],t),t.destroy()}getClipBox(){if(this.clipXAxis&&this.clipYAxis)return{x:this.clipXAxis.left,y:this.clipYAxis.top,width:this.clipXAxis.width,height:this.clipYAxis.height}}initProperties(t,e){this.setOptions(e);const i=v(this.options,e);this.options.labels=i.labels,this.options.shapes=i.shapes,this.chart=t,this.points=[],this.controlPoints=[],this.coll="annotations",this.userOptions=e,this.labels=[],this.shapes=[]}init(t,e,i=this.index){t=this.chart,e=this.options.animation,this.index=i,this.linkPoints(),this.addControlPoints(),this.addShapes(),this.addLabels(),this.setLabelCollector(),this.animationConfig=b(t,e)}initLabel(t,e){return t=A(this.options.labelOptions,{controlPointOptions:this.options.controlPointOptions},t),(e=new l(this,t,e)).itemType="label",this.labels.push(e),e}initShape(t,e){return t=A(this.options.shapeOptions,{controlPointOptions:this.options.controlPointOptions},t),(e=new P.shapesMap[t.type](this,t,e)).itemType="shape",this.shapes.push(e),e}redraw(t){this.linkPoints(),this.graphic||this.render(),this.clipRect&&this.clipRect.animate(this.getClipBox()),this.redrawItems(this.shapes,t),this.redrawItems(this.labels,t),this.redrawControlPoints(t)}redrawItem(t,e){t.linkPoints(),t.shouldBeDrawn()?(t.graphic||this.renderItem(t),t.redraw(C(e,!0)&&t.graphic.placed),t.points.length&&function(t){const e=t.graphic;t=t.points.some((t=>!1!==t.series.visible&&!1!==t.visible)),e&&(t?"hidden"===e.visibility&&e.show():e.hide())}(t)):this.destroyItem(t)}redrawItems(t,e){let i=t.length;for(;i--;)this.redrawItem(t[i],e)}remove(){return this.chart.removeAnnotation(this)}render(){const t=this.chart.renderer;this.graphic=t.g("annotation").attr({opacity:0,zIndex:this.options.zIndex,visibility:this.options.visible?"inherit":"hidden"}).add(),this.shapesGroup=t.g("annotation-shapes").add(this.graphic),this.options.crop&&this.shapesGroup.clip(this.chart.plotBoxClip),this.labelsGroup=t.g("annotation-labels").attr({translateX:0,translateY:0}).add(this.graphic),this.addClipPaths(),this.clipRect&&this.graphic.clip(this.clipRect),this.renderItems(this.shapes),this.renderItems(this.labels),this.addEvents(),this.renderControlPoints()}renderItem(t){t.render("label"===t.itemType?this.labelsGroup:this.shapesGroup)}renderItems(t){let e=t.length;for(;e--;)this.renderItem(t[e])}setClipAxes(){const t=this.chart.xAxis,e=this.chart.yAxis,i=(this.options.labels||[]).concat(this.options.shapes||[]).reduce(((i,n)=>(n=n&&(n.point||n.points&&n.points[0]),[t[n&&n.xAxis]||i[0],e[n&&n.yAxis]||i[1]])),[]);this.clipXAxis=i[0],this.clipYAxis=i[1]}setControlPointsVisibility(t){const e=function(e){e.setControlPointsVisibility(t)};this.controlPoints.forEach((e=>{e.setVisibility(t)})),this.shapes.forEach(e),this.labels.forEach(e)}setLabelCollector(){const t=this;t.labelCollector=function(){return t.labels.reduce((function(t,e){return e.options.allowOverlap||t.push(e.graphic),t}),[])},t.chart.labelCollectors.push(t.labelCollector)}setOptions(t){this.options=A(this.defaultOptions,t)}setVisibility(t){const e=this.options,i=this.chart.navigationBindings,n=C(t,!e.visible);this.graphic.attr("visibility",n?"inherit":"hidden"),n||(t=function(t){t.setControlPointsVisibility(n)},this.shapes.forEach(t),this.labels.forEach(t),i.activeAnnotation===this&&i.popup&&"annotation-toolbar"===i.popup.type&&y(i,"closePopup")),e.visible=n}update(t,e){const i=this.chart,n=v(this.userOptions,t),s=i.annotations.indexOf(this);(t=A(!0,this.userOptions,t)).labels=n.labels,t.shapes=n.shapes,this.destroy(),this.initProperties(i,t),this.init(i,t),i.options.annotations[s]=t,this.isUpdating=!0,C(e,!0)&&i.redraw(),y(this,"afterUpdate"),this.isUpdating=!1}}return P.ControlPoint=c,P.MockPoint=u,P.shapesMap={rect:n,circle:s,ellipse:o,path:a,image:r},P.types={},P.prototype.defaultOptions=i,P.prototype.nonDOMEvents=["add","afterUpdate","drag","remove"],h.compose(P),P})),e(t,"masters/modules/annotations.src.js",[t["Core/Globals.js"],t["Extensions/Annotations/Annotation.js"]],(function(t,e){t.Annotation=e,e.compose(t.Chart,t.Pointer,t.SVGRenderer)}))},t.exports?(o.default=o,t.exports=o):(n=[i(78840)],void 0===(s=function(t){return o(t),o.Highcharts=t,o}.apply(e,n))||(t.exports=s))},90638:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(96856).Z;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var i=a.default,o=(null==e?void 0:e.suspense)?{}:{loading:function(t){t.error,t.isLoading;return t.pastDelay,null}};n(t,Promise)?o.loader=function(){return t}:"function"===typeof t?o.loader=t:"object"===typeof t&&(o=s({},o,t));!1;(o=s({},o,e)).suspense&&(delete o.ssr,delete o.loading);o.loadableGenerated&&delete(o=s({},o,o.loadableGenerated)).loadableGenerated;if("boolean"===typeof o.ssr&&!o.suspense){if(!o.ssr)return delete o.ssr,r(i,o);delete o.ssr}return i(o)},e.noSSR=r;var s=i(6495).Z,o=i(92648).Z,a=(o(i(67294)),o(i(14302)));function r(t,e){return delete e.webpack,delete e.modules,t(e)}("function"===typeof e.default||"object"===typeof e.default&&null!==e.default)&&"undefined"===typeof e.default.__esModule&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),t.exports=e.default)},16319:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LoadableContext=void 0;var n=(0,i(92648).Z)(i(67294)).default.createContext(null);e.LoadableContext=n},14302:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(79658).Z,s=i(7222).Z;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(6495).Z,a=(0,i(92648).Z)(i(67294)),r=i(16319),l=i(67294).useSyncExternalStore,c=[],h=[],p=!1;function u(t){var e=t(),i={loading:!0,loaded:null,error:null};return i.promise=e.then((function(t){return i.loading=!1,i.loaded=t,t})).catch((function(t){throw i.loading=!1,i.error=t,t})),i}var d=function(){function t(e,i){n(this,t),this._loadFn=e,this._opts=i,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}return s(t,[{key:"promise",value:function(){return this._res.promise}},{key:"retry",value:function(){var t=this;this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};var e=this._res,i=this._opts;e.loading&&("number"===typeof i.delay&&(0===i.delay?this._state.pastDelay=!0:this._delay=setTimeout((function(){t._update({pastDelay:!0})}),i.delay)),"number"===typeof i.timeout&&(this._timeout=setTimeout((function(){t._update({timedOut:!0})}),i.timeout))),this._res.promise.then((function(){t._update({}),t._clearTimeouts()})).catch((function(e){t._update({}),t._clearTimeouts()})),this._update({})}},{key:"_update",value:function(t){this._state=o({},this._state,{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading},t),this._callbacks.forEach((function(t){return t()}))}},{key:"_clearTimeouts",value:function(){clearTimeout(this._delay),clearTimeout(this._timeout)}},{key:"getCurrentValue",value:function(){return this._state}},{key:"subscribe",value:function(t){var e=this;return this._callbacks.add(t),function(){e._callbacks.delete(t)}}}]),t}();function f(t){return function(t,e){var i=function(){if(!c){var e=new d(t,s);c={getCurrentValue:e.getCurrentValue.bind(e),subscribe:e.subscribe.bind(e),retry:e.retry.bind(e),promise:e.promise.bind(e)}}return c.promise()},n=function(){i();var t=a.default.useContext(r.LoadableContext);t&&Array.isArray(s.modules)&&s.modules.forEach((function(e){t(e)}))},s=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null,suspense:!1},e);s.suspense&&(s.lazy=a.default.lazy(s.loader));var c=null;if(!p){var u=s.webpack?s.webpack():s.modules;u&&h.push((function(t){var e=!0,n=!1,s=void 0;try{for(var o,a=u[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var r=o.value;if(-1!==t.indexOf(r))return i()}}catch(l){n=!0,s=l}finally{try{e||null==a.return||a.return()}finally{if(n)throw s}}}))}var f=s.suspense?function(t,e){return n(),a.default.createElement(s.lazy,o({},t,{ref:e}))}:function(t,e){n();var i=l(c.subscribe,c.getCurrentValue,c.getCurrentValue);return a.default.useImperativeHandle(e,(function(){return{retry:c.retry}}),[]),a.default.useMemo((function(){return i.loading||i.error?a.default.createElement(s.loading,{isLoading:i.loading,pastDelay:i.pastDelay,timedOut:i.timedOut,error:i.error,retry:c.retry}):i.loaded?a.default.createElement((e=i.loaded)&&e.__esModule?e.default:e,t):null;var e}),[t,i])};return f.preload=function(){return i()},f.displayName="LoadableComponent",a.default.forwardRef(f)}(u,t)}function g(t,e){for(var i=[];t.length;){var n=t.pop();i.push(n(e))}return Promise.all(i).then((function(){if(t.length)return g(t,e)}))}f.preloadAll=function(){return new Promise((function(t,e){g(c).then(t,e)}))},f.preloadReady=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise((function(e){var i=function(){return p=!0,e()};g(h,t).then(i,i)}))},window.__NEXT_PRELOADREADY=f.preloadReady;var v=f;e.default=v},5152:function(t,e,i){t.exports=i(90638)},64729:function(t,e,i){"use strict";i.d(e,{R:function(){return W}});var n,s,o=i(67294),a=i(94192),r=i(19946),l=i(16723),c=i(71646),h=i(23784),p=i(12351),u=i(32984),d=i(9362),f=i(61363),g=i(11497),v=i(64103),b=i(84575),m=i(16567),x=i(14157),y=i(39650),A=i(46045),C=i(18689),E=i(15466),P=i(73781),k=i(31147),w=i(3855),O=i(40476),T=((s=T||{})[s.Open=0]="Open",s[s.Closed=1]="Closed",s),j=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(j||{}),M=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(M||{}),S=((n=S||{})[n.OpenListbox=0]="OpenListbox",n[n.CloseListbox=1]="CloseListbox",n[n.GoToOption=2]="GoToOption",n[n.Search=3]="Search",n[n.ClearSearch=4]="ClearSearch",n[n.RegisterOption=5]="RegisterOption",n[n.UnregisterOption=6]="UnregisterOption",n[n.RegisterLabel=7]="RegisterLabel",n);function R(t,e=(t=>t)){let i=null!==t.activeOptionIndex?t.options[t.activeOptionIndex]:null,n=(0,b.z2)(e(t.options.slice()),(t=>t.dataRef.current.domRef.current)),s=i?n.indexOf(i):null;return-1===s&&(s=null),{options:n,activeOptionIndex:s}}let L={1:t=>t.dataRef.current.disabled||1===t.listboxState?t:{...t,activeOptionIndex:null,listboxState:1},0(t){if(t.dataRef.current.disabled||0===t.listboxState)return t;let e=t.activeOptionIndex,{isSelected:i}=t.dataRef.current,n=t.options.findIndex((t=>i(t.dataRef.current.value)));return-1!==n&&(e=n),{...t,listboxState:0,activeOptionIndex:e}},2(t,e){var i;if(t.dataRef.current.disabled||1===t.listboxState)return t;let n=R(t),s=(0,g.d)(e,{resolveItems:()=>n.options,resolveActiveIndex:()=>n.activeOptionIndex,resolveId:t=>t.id,resolveDisabled:t=>t.dataRef.current.disabled});return{...t,...n,searchQuery:"",activeOptionIndex:s,activationTrigger:null!=(i=e.trigger)?i:1}},3:(t,e)=>{if(t.dataRef.current.disabled||1===t.listboxState)return t;let i=""!==t.searchQuery?0:1,n=t.searchQuery+e.value.toLowerCase(),s=(null!==t.activeOptionIndex?t.options.slice(t.activeOptionIndex+i).concat(t.options.slice(0,t.activeOptionIndex+i)):t.options).find((t=>{var e;return!t.dataRef.current.disabled&&(null==(e=t.dataRef.current.textValue)?void 0:e.startsWith(n))})),o=s?t.options.indexOf(s):-1;return-1===o||o===t.activeOptionIndex?{...t,searchQuery:n}:{...t,searchQuery:n,activeOptionIndex:o,activationTrigger:1}},4:t=>t.dataRef.current.disabled||1===t.listboxState||""===t.searchQuery?t:{...t,searchQuery:""},5:(t,e)=>{let i={id:e.id,dataRef:e.dataRef},n=R(t,(t=>[...t,i]));return null===t.activeOptionIndex&&t.dataRef.current.isSelected(e.dataRef.current.value)&&(n.activeOptionIndex=n.options.indexOf(i)),{...t,...n}},6:(t,e)=>{let i=R(t,(t=>{let i=t.findIndex((t=>t.id===e.id));return-1!==i&&t.splice(i,1),t}));return{...t,...i,activationTrigger:1}},7:(t,e)=>({...t,labelId:e.id})},B=(0,o.createContext)(null);function N(t){let e=(0,o.useContext)(B);if(null===e){let e=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(e,N),e}return e}B.displayName="ListboxActionsContext";let I=(0,o.createContext)(null);function D(t){let e=(0,o.useContext)(I);if(null===e){let e=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(e,D),e}return e}function U(t,e){return(0,u.E)(e.type,L,t,e)}I.displayName="ListboxDataContext";let Y=o.Fragment,F=(0,p.yV)((function(t,e){let{value:i,defaultValue:n,name:s,onChange:r,by:c=((t,e)=>t===e),disabled:d=!1,horizontal:f=!1,multiple:v=!1,...x}=t;const E=f?"horizontal":"vertical";let w=(0,h.T)(e),[O=(v?[]:void 0),T]=(0,k.q)(i,r,n),[j,M]=(0,o.useReducer)(U,{dataRef:(0,o.createRef)(),listboxState:1,options:[],searchQuery:"",labelId:null,activeOptionIndex:null,activationTrigger:1}),S=(0,o.useRef)({static:!1,hold:!1}),R=(0,o.useRef)(null),L=(0,o.useRef)(null),N=(0,o.useRef)(null),D=(0,P.z)("string"==typeof c?(t,e)=>{let i=c;return(null==t?void 0:t[i])===(null==e?void 0:e[i])}:c),F=(0,o.useCallback)((t=>(0,u.E)(_.mode,{1:()=>O.some((e=>D(e,t))),0:()=>D(O,t)})),[O]),_=(0,o.useMemo)((()=>({...j,value:O,disabled:d,mode:v?1:0,orientation:E,compare:D,isSelected:F,optionsPropsRef:S,labelRef:R,buttonRef:L,optionsRef:N})),[O,d,v,j]);(0,l.e)((()=>{j.dataRef.current=_}),[_]),(0,y.O)([_.buttonRef,_.optionsRef],((t,e)=>{var i;M({type:1}),(0,b.sP)(e,b.tJ.Loose)||(t.preventDefault(),null==(i=_.buttonRef.current)||i.focus())}),0===_.listboxState);let X=(0,o.useMemo)((()=>({open:0===_.listboxState,disabled:d,value:O})),[_,d,O]),z=(0,P.z)((t=>{let e=_.options.find((e=>e.id===t));!e||Z(e.dataRef.current.value)})),V=(0,P.z)((()=>{if(null!==_.activeOptionIndex){let{dataRef:t,id:e}=_.options[_.activeOptionIndex];Z(t.current.value),M({type:2,focus:g.T.Specific,id:e})}})),q=(0,P.z)((()=>M({type:0}))),W=(0,P.z)((()=>M({type:1}))),G=(0,P.z)(((t,e,i)=>t===g.T.Specific?M({type:2,focus:g.T.Specific,id:e,trigger:i}):M({type:2,focus:t,trigger:i}))),H=(0,P.z)(((t,e)=>(M({type:5,id:t,dataRef:e}),()=>M({type:6,id:t})))),K=(0,P.z)((t=>(M({type:7,id:t}),()=>M({type:7,id:null})))),Z=(0,P.z)((t=>(0,u.E)(_.mode,{0:()=>null==T?void 0:T(t),1(){let e=_.value.slice(),i=e.findIndex((e=>D(e,t)));return-1===i?e.push(t):e.splice(i,1),null==T?void 0:T(e)}}))),$=(0,P.z)((t=>M({type:3,value:t}))),Q=(0,P.z)((()=>M({type:4}))),J=(0,o.useMemo)((()=>({onChange:Z,registerOption:H,registerLabel:K,goToOption:G,closeListbox:W,openListbox:q,selectActiveOption:V,selectOption:z,search:$,clearSearch:Q})),[]),tt={ref:w},et=(0,o.useRef)(null),it=(0,a.G)();return(0,o.useEffect)((()=>{!et.current||void 0!==n&&it.addEventListener(et.current,"reset",(()=>{Z(n)}))}),[et,Z]),o.createElement(B.Provider,{value:J},o.createElement(I.Provider,{value:_},o.createElement(m.up,{value:(0,u.E)(_.listboxState,{0:m.ZM.Open,1:m.ZM.Closed})},null!=s&&null!=O&&(0,C.t)({[s]:O}).map((([t,e],i)=>o.createElement(A._,{features:A.A.Hidden,ref:0===i?t=>{var e;et.current=null!=(e=null==t?void 0:t.closest("form"))?e:null}:void 0,...(0,p.oA)({key:t,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:t,value:e})}))),(0,p.sY)({ourProps:tt,theirProps:x,slot:X,defaultTag:Y,name:"Listbox"}))))})),_=(0,p.yV)((function(t,e){var i;let n=(0,r.M)(),{id:s=`headlessui-listbox-button-${n}`,...l}=t,u=D("Listbox.Button"),d=N("Listbox.Button"),b=(0,h.T)(u.buttonRef,e),m=(0,a.G)(),y=(0,P.z)((t=>{switch(t.key){case f.R.Space:case f.R.Enter:case f.R.ArrowDown:t.preventDefault(),d.openListbox(),m.nextFrame((()=>{u.value||d.goToOption(g.T.First)}));break;case f.R.ArrowUp:t.preventDefault(),d.openListbox(),m.nextFrame((()=>{u.value||d.goToOption(g.T.Last)}))}})),A=(0,P.z)((t=>{if(t.key===f.R.Space)t.preventDefault()})),C=(0,P.z)((t=>{if((0,v.P)(t.currentTarget))return t.preventDefault();0===u.listboxState?(d.closeListbox(),m.nextFrame((()=>{var t;return null==(t=u.buttonRef.current)?void 0:t.focus({preventScroll:!0})}))):(t.preventDefault(),d.openListbox())})),E=(0,c.v)((()=>{if(u.labelId)return[u.labelId,s].join(" ")}),[u.labelId,s]),k=(0,o.useMemo)((()=>({open:0===u.listboxState,disabled:u.disabled,value:u.value})),[u]),w={ref:b,id:s,type:(0,x.f)(t,u.buttonRef),"aria-haspopup":!0,"aria-controls":null==(i=u.optionsRef.current)?void 0:i.id,"aria-expanded":u.disabled?void 0:0===u.listboxState,"aria-labelledby":E,disabled:u.disabled,onKeyDown:y,onKeyUp:A,onClick:C};return(0,p.sY)({ourProps:w,theirProps:l,slot:k,defaultTag:"button",name:"Listbox.Button"})})),X=(0,p.yV)((function(t,e){let i=(0,r.M)(),{id:n=`headlessui-listbox-label-${i}`,...s}=t,a=D("Listbox.Label"),c=N("Listbox.Label"),u=(0,h.T)(a.labelRef,e);(0,l.e)((()=>c.registerLabel(n)),[n]);let d=(0,P.z)((()=>{var t;return null==(t=a.buttonRef.current)?void 0:t.focus({preventScroll:!0})})),f=(0,o.useMemo)((()=>({open:0===a.listboxState,disabled:a.disabled})),[a]);return(0,p.sY)({ourProps:{ref:u,id:n,onClick:d},theirProps:s,slot:f,defaultTag:"label",name:"Listbox.Label"})})),z=p.AN.RenderStrategy|p.AN.Static,V=(0,p.yV)((function(t,e){var i;let n=(0,r.M)(),{id:s=`headlessui-listbox-options-${n}`,...l}=t,v=D("Listbox.Options"),b=N("Listbox.Options"),x=(0,h.T)(v.optionsRef,e),y=(0,a.G)(),A=(0,a.G)(),C=(0,m.oJ)(),k=null!==C?C===m.ZM.Open:0===v.listboxState;(0,o.useEffect)((()=>{var t;let e=v.optionsRef.current;!e||0===v.listboxState&&e!==(null==(t=(0,E.r)(e))?void 0:t.activeElement)&&e.focus({preventScroll:!0})}),[v.listboxState,v.optionsRef]);let w=(0,P.z)((t=>{switch(A.dispose(),t.key){case f.R.Space:if(""!==v.searchQuery)return t.preventDefault(),t.stopPropagation(),b.search(t.key);case f.R.Enter:if(t.preventDefault(),t.stopPropagation(),null!==v.activeOptionIndex){let{dataRef:t}=v.options[v.activeOptionIndex];b.onChange(t.current.value)}0===v.mode&&(b.closeListbox(),(0,d.k)().nextFrame((()=>{var t;return null==(t=v.buttonRef.current)?void 0:t.focus({preventScroll:!0})})));break;case(0,u.E)(v.orientation,{vertical:f.R.ArrowDown,horizontal:f.R.ArrowRight}):return t.preventDefault(),t.stopPropagation(),b.goToOption(g.T.Next);case(0,u.E)(v.orientation,{vertical:f.R.ArrowUp,horizontal:f.R.ArrowLeft}):return t.preventDefault(),t.stopPropagation(),b.goToOption(g.T.Previous);case f.R.Home:case f.R.PageUp:return t.preventDefault(),t.stopPropagation(),b.goToOption(g.T.First);case f.R.End:case f.R.PageDown:return t.preventDefault(),t.stopPropagation(),b.goToOption(g.T.Last);case f.R.Escape:return t.preventDefault(),t.stopPropagation(),b.closeListbox(),y.nextFrame((()=>{var t;return null==(t=v.buttonRef.current)?void 0:t.focus({preventScroll:!0})}));case f.R.Tab:t.preventDefault(),t.stopPropagation();break;default:1===t.key.length&&(b.search(t.key),A.setTimeout((()=>b.clearSearch()),350))}})),O=(0,c.v)((()=>{var t,e,i;return null!=(i=null==(t=v.labelRef.current)?void 0:t.id)?i:null==(e=v.buttonRef.current)?void 0:e.id}),[v.labelRef.current,v.buttonRef.current]),T=(0,o.useMemo)((()=>({open:0===v.listboxState})),[v]),j={"aria-activedescendant":null===v.activeOptionIndex||null==(i=v.options[v.activeOptionIndex])?void 0:i.id,"aria-multiselectable":1===v.mode||void 0,"aria-labelledby":O,"aria-orientation":v.orientation,id:s,onKeyDown:w,role:"listbox",tabIndex:0,ref:x};return(0,p.sY)({ourProps:j,theirProps:l,slot:T,defaultTag:"ul",features:z,visible:k,name:"Listbox.Options"})})),q=(0,p.yV)((function(t,e){let i=(0,r.M)(),{id:n=`headlessui-listbox-option-${i}`,disabled:s=!1,value:a,...c}=t,u=D("Listbox.Option"),f=N("Listbox.Option"),v=null!==u.activeOptionIndex&&u.options[u.activeOptionIndex].id===n,b=u.isSelected(a),m=(0,o.useRef)(null),x=(0,w.E)({disabled:s,value:a,domRef:m,get textValue(){var t,e;return null==(e=null==(t=m.current)?void 0:t.textContent)?void 0:e.toLowerCase()}}),y=(0,h.T)(e,m);(0,l.e)((()=>{if(0!==u.listboxState||!v||0===u.activationTrigger)return;let t=(0,d.k)();return t.requestAnimationFrame((()=>{var t,e;null==(e=null==(t=m.current)?void 0:t.scrollIntoView)||e.call(t,{block:"nearest"})})),t.dispose}),[m,v,u.listboxState,u.activationTrigger,u.activeOptionIndex]),(0,l.e)((()=>f.registerOption(n,x)),[x,n]);let A=(0,P.z)((t=>{if(s)return t.preventDefault();f.onChange(a),0===u.mode&&(f.closeListbox(),(0,d.k)().nextFrame((()=>{var t;return null==(t=u.buttonRef.current)?void 0:t.focus({preventScroll:!0})})))})),C=(0,P.z)((()=>{if(s)return f.goToOption(g.T.Nothing);f.goToOption(g.T.Specific,n)})),E=(0,O.g)(),k=(0,P.z)((t=>E.update(t))),T=(0,P.z)((t=>{!E.wasMoved(t)||s||v||f.goToOption(g.T.Specific,n,0)})),j=(0,P.z)((t=>{!E.wasMoved(t)||s||!v||f.goToOption(g.T.Nothing)})),M=(0,o.useMemo)((()=>({active:v,selected:b,disabled:s})),[v,b,s]);return(0,p.sY)({ourProps:{id:n,ref:y,role:"option",tabIndex:!0===s?void 0:-1,"aria-disabled":!0===s||void 0,"aria-selected":b,disabled:void 0,onClick:A,onFocus:C,onPointerEnter:k,onMouseEnter:k,onPointerMove:T,onMouseMove:T,onPointerLeave:j,onMouseLeave:j},theirProps:c,slot:M,defaultTag:"li",name:"Listbox.Option"})})),W=Object.assign(F,{Button:_,Label:X,Options:V,Option:q})},71646:function(t,e,i){"use strict";i.d(e,{v:function(){return a}});var n=i(67294),s=i(16723),o=i(3855);function a(t,e){let[i,a]=(0,n.useState)(t),r=(0,o.E)(t);return(0,s.e)((()=>a(r.current)),[r,a,...e]),i}}}]);